<!DOCTYPE html>

<!--
 // WEBSITE: https://themefisher.com
 // TWITTER: https://twitter.com/themefisher
 // FACEBOOK: https://www.facebook.com/themefisher
 // GITHUB: https://github.com/themefisher/
-->

<html lang="en">
<head>

  <!-- ** Basic Page Needs ** -->
  <meta charset="utf-8">
  <title>Interview Scheduler</title>

  <!-- ** Mobile Specific Metas ** -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="Agency HTML Template">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
  <meta name="author" content="Themefisher">
  <meta name="generator" content="Themefisher Classified Marketplace Template v1.0">

  <!-- theme meta -->
  <meta name="theme-name" content="classimax" />

  <!-- favicon -->
  <link href="images/favicon.png" rel="shortcut icon">

  <!--
  Essential stylesheets
  =====================================-->
  <link href="/static/assets1/plugins/bootstrap/bootstrap.min.css" rel="stylesheet">
  <link href="/static/assets1/plugins/bootstrap/bootstrap-slider.css" rel="stylesheet">
  <link href="/static/assets1/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="/static/assets1/plugins/slick/slick.css" rel="stylesheet">
  <link href="/static/assets1/plugins/slick/slick-theme.css" rel="stylesheet">
  <link href="/static/assets1/plugins/jquery-nice-select/css/nice-select.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="/static/assets1/css/style.css" rel="stylesheet">
  </head>
  <style media="screen">
    .product-item .card .card-body {
      height: 248px; /* Adjust the height as needed */
      overflow: hidden;
    }
    #suggestionListJobTitle {
        list-style: none;
        padding: 0;
        margin: 5px 0 0 0;
        border: 1px solid #ccc;
        border-radius: 4px;
        max-height: 200px;
        overflow-y: auto;
        display: none; /* Hide the list initially */
    }
    
    #suggestionListJobTitle li {
        padding: 8px 12px;
        cursor: pointer;
        color : white;
    }
    
    #suggestionListJobTitle li:hover {
        background-color: #f2f2f2;
        color:black;
    }
    .empty-bookmark path {
      fill: none; /* Define the fill color for the empty bookmark */
      stroke: #660000; /* Define the stroke color for the empty bookmark */
       stroke-width: 2;
       color: black;
    }
    /* Styles for the filled bookmark icon */
    .filled-bookmark path {
        fill: yellow; /* Define the fill color for the filled bookmark */
        stroke: red; /* Define the stroke color for the filled bookmark */
        stroke-width: 3; /* Define the stroke width for the filled bookmark */
    }
    .product-item:hover {
          box-shadow: 0 0 20px rgba(0, 0, 0, 0.1); /* Add a box shadow when hovering */
          transform: translateY(-20px); /* Move the card slightly up when hovering */
          transition: box-shadow 0.7s ease, transform 0.7s ease; /* Add a smooth transition effect */
      }
    </style>
  <body>
    <header>
    	<div class="container">
    		<div class="row">
    			<div class="col-md-12">
    				<nav class="navbar navbar-expand-lg navbar-light navigation">
    					<a class="navbar-brand" href="/user_dashboard">
    						<img style="margin-left: -60px; margin-top: -20px;" width="160px" height="60px" src="/static/assets1/images/is_logo.png" alt="">
    					</a>
    					<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
    					 aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    						<span class="navbar-toggler-icon"></span>
    					</button>
    					<div class="collapse navbar-collapse" id="navbarSupportedContent">
    						<ul class="navbar-nav ml-auto main-nav ">


                  <li class="nav-item dropdown dropdown-slide @@dashboard">
                    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#!">Jobs<span><i class="fa fa-angle-down"></i></span>
                    </a>

                    <!-- Dropdown list -->
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item @@dashboardPage" href="/user_dashboard">Recommanded</a></li>
                      <li><a class="dropdown-item @@dashboardMyAds" href="/saved_jobs">Saved</a></li>
                      <li><a class="dropdown-item @@dashboardMyAds" href="/jobs">All Jobs</a></li>


                    </ul>
                  </li>
                  <li class="nav-item ">
                    <a class="nav-link" href="/application_status">Status</a>
                  </li>

                  <li class="nav-item ">
                    <a class="nav-link" href="/companies">Companies</a>
                  </li>
                  <li class="nav-item ">
                    <a class="nav-link" href="/profile">Profile</a>
                  </li>

    						</ul>


    						<ul class="navbar-nav ml-auto mt-10">
    							<li class="nav-item">
    								<a class="nav-link login-button" href="/user_logout">Logout</a>
    							</li>

    						</ul>
    					</div>
    				</nav>
    			</div>
    		</div>
    	</div>
    </header>


<section class="page-search">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<!-- Advance Search -->
				<div class="advance-search nice-select-white">
          <form method="GET" action="{% url 'user_search_results' %}">
            <div class="form-row">
              <div class="form-group col-xl-4 col-lg-3 col-md-6">
 <input type="text" name="job_title" class="form-control my-2 my-lg-1" id="inputtext4" placeholder="Job Title">
 <ul id="suggestionListJobTitle"></ul> <!-- Empty <ul> for displaying suggestions -->
</div>
              <div class="form-group col-lg-3 col-md-6">
                <select  name="type" class="w-100 form-control mt-lg-1 mt-md-2">
                  <option>Job Type</option>
                  <option value="Full time">Full Time</option>
                  <option value="Part time">Part Time</option>

                </select>
              </div>
              <div class="form-group col-lg-3 col-md-6">
                <input  name="keyword" type="text" class="form-control my-2 my-lg-1" id="inputLocation4" placeholder="Location">
              </div>
              <div class="form-group col-xl-2 col-lg-3 col-md-6 align-self-center">
                <button style="background:white;" type="submit" class="btn active w-100">Search Now</button>
              </div>
            </div>
          </form>
				</div>
			</div>
		</div>
	</div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    $('#inputtext4').on('input', function() {
        const keyword = $(this).val().trim();
        const suggestionList = $('#suggestionListJobTitle');

        if (keyword.length >= 2) {  // Adjust the minimum length for suggestions
            $.ajax({
                url: '/autocomplete-job-title/',  // Replace with your Django URL for job title suggestions
                data: { keyword: keyword },
                dataType: 'json',
                success: function(response) {
                    const suggestions = response.suggestions;
                    suggestionList.empty(); // Clear previous suggestions
                    if (suggestions.length > 0) {
                        suggestions.forEach(function(suggestion) {
                            suggestionList.append(`<li>${suggestion}</li>`); // Append suggestions to the <ul>
                        });
                        suggestionList.show(); // Show the suggestion list
                    } else {
                        suggestionList.hide(); // Hide the suggestion list if no suggestions
                    }
                }
            });
        } else {
            suggestionList.hide(); // Hide the suggestion list if input length is less than 2
        }
    });

    // Handle click on suggestion and populate the input field
    $('body').on('click', '#suggestionListJobTitle li', function() {
        const suggestionText = $(this).text();
        $('#inputtext4').val(suggestionText);
        $('#suggestionListJobTitle').hide(); // Hide the suggestion list after selecting a suggestion
    });
});
</script>
</section>
<section class="section-sm">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="search-result bg-gray">

				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-3 col-md-4">
				<div class="category-sidebar">
					<div class="widget category-list">
	<h4 class="widget-header">All Departments</h4>
  <ul class="category-list">
      {% for department, count in department_open_counts %}
		<li><a href="{% url 'user_job_list' department|urlencode %}">{{ department }} </a></li>
	{% endfor %}
	</ul>
</div>

<div class="widget category-list">
	<h4 class="widget-header">Work Mode</h4>
	<ul class="category-list">

    <li><a href="{% url 'user_work_mode' 'Work Form Office' %}">Work from Office</a></li>
    <li><a href="{% url 'user_work_mode' 'hybride' %}">Hybride</a></li>
    <li><a href="{% url 'user_work_mode' 'remote' %}">Remote</a></li>
	</ul>
</div>
<div class="widget category-list">
	<h4 class="widget-header">Location</h4>
	<ul class="category-list">

    {% for location, job_count in combined_counts.items %}
		<li><a href="{% url 'location_related_jobs' location|urlencode %}">{{ location }}<span>({{job_count }})</span></a></li>
	{% endfor %}
	</ul>
</div>



				</div>
			</div>
			<div class="col-lg-9 col-md-8">

				<div class="product-grid-list">
					<div class="row mt-30">
            {% for x in combined_results %}
						<div class="col-lg-4 col-md-6">
							<!-- product card -->
<div class="product-item bg-light">
	<div class="card ml-2">
		<div class="thumb-content">
			<!-- <div class="price">$200</div> -->
      {% if x.company_id.first_name %}
      <div class="image-container">
        <a href="{% url 'single_job' job_id=x.id u_id=x.company_id_id  %}" style="display: block; text-align: center;">
      <img class="card-img-top img-fluid mt-3" src="/{{ x.company_id.profile }}" alt="Card image cap" style="width: 100px; height: auto; margin: 0 auto;">
  </a>


  </div>
      {% else %}
      <div class="image-container">
        <a href="{% url 'single_job' job_id=x.id u_id=x.agency_id_id  %}" style="display: block; text-align: center;">
      <img class="card-img-top img-fluid mt-3" src="/{{ x.company_id.profile }}" alt="Card image cap" style="width: 100px; height: auto; margin: 0 auto;">
  </a>
  </div>
      {% endif %}
		</div>
    <div class="card-body">
      {% if x.company_id.first_name %}
    <h4 class="card-title">
      {{ x.designation }}
      <span class="bookmark-icon" data-job-id="{{ x.id }}" data-company-id="{{ x.company_id_id }}">
         <svg class="{% if x.is_saved %}filled-bookmark{% else %}empty-bookmark{% endif %}" xmlns="http://www.w3.org/2000/svg" height="16" width="12" viewBox="0 0 384 512" style="margin-left: 10px;">
          <!-- SVG path for an empty bookmark -->
          <path d="M336 0H48C21.5 0 0 21.5 0 48v464l192-112 192 112V48c0-26.5-21.5-48-48-48zm0 428.4l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.3 0 6 2.7 6 6V428.4z"/>
        </svg>
      </span>
    </h4>
  {% else %}
    <h4 class="card-title">
      {{ x.designation }}
      <span class="bookmark-icon" data-job-id="{{ x.id }}" data-company-id="{{ x.agency_id_id }}">

      <svg class="{% if x.is_saved %}filled-bookmark{% else %}empty-bookmark{% endif %}" xmlns="http://www.w3.org/2000/svg" height="16" width="12" viewBox="0 0 384 512" style="margin-left: 10px;">
          <!-- SVG path for an empty bookmark -->
          <path d="M336 0H48C21.5 0 0 21.5 0 48v464l192-112 192 112V48c0-26.5-21.5-48-48-48zm0 428.4l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.3 0 6 2.7 6 6V428.4z"/>
        </svg>
      </span>
    </h4>
  {% endif %}

        <ul class="list-inline product-meta">
          {% if x.company_id.first_name %}
          <li class="list-inline-item">
          {{x.company_id.first_name}}
          </li><br>
          {% else %}
          <li class="list-inline-item">
            {{x.company_id.company_name}}
          </li><br>
          {% endif %}
          <li class="list-inline-item">
          <i class="fas fa-stopwatch"></i> {{x.job_type}}
          </li>
          <li class="list-inline-item">
            <i class="fa fa-map-marker"></i> {{x.location}}
          </li>
          <li class="list-inline-item">
            <i class="fa fa-rupee-sign"></i> {{x.salary}}
          </li>
        </ul>
        <p class="card-text">Required Skills : {{ x.mandatory_skills }}</p>
        {% if x.company_id.first_name %}
    <a class="nav-link text-white add-button" href="{% url 'user_single_job' job_id=x.id u_id=x.company_id_id  %}" class="read-more-link">Apply now</a><br>
    {% else %}
    <a class="nav-link text-white add-button" href="{% url 'user_single_job' job_id=x.id u_id=x.agency_id_id  %}" class="read-more-link">Apply now</a><br>
    {% endif %}
    </div>
      &nbsp<p class="card-text">Posted {{x.days_since_posted}} ago</p>
	</div>
</div>
</div>
<script type="text/javascript">
// Function to truncate text and show "Know More" link if necessary
function truncateText(element, maxLength) {
    let text = element.textContent.trim();
    if (text.length > maxLength) {
        let truncatedText = text.slice(0, maxLength) + '...';
        element.textContent = truncatedText;

        let readMoreLink = element.nextElementSibling; // Assuming the link is the next sibling
        readMoreLink.style.display = 'inline'; // Show the "Know More" link
    }
}

document.addEventListener("DOMContentLoaded", function() {
    let cardTextElements = document.querySelectorAll('.card-text');
    const MAX_WORDS = 50;

    cardTextElements.forEach(function (element) {
        truncateText(element, MAX_WORDS);
    });
});

</script>
            {% endfor %}
					</div>
				</div>

			</div>
		</div>
	</div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <script>
    // Get the CSRF token from the cookie
  function getCookie(name) {
    var cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = jQuery.trim(cookies[i]);
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
  }

  $(document).ready(function() {
    $('.bookmark-icon').on('click', function() {
        var jobID = $(this).data('job-id');
        var companyID = $(this).data('company-id');
        var icon = $(this).find('svg');

        // Get the CSRF token
        var csrftoken = getCookie('csrftoken');

        if (icon.hasClass('empty-bookmark')) {
            // If the icon is empty, save it in the database
            $.ajax({
                type: 'POST',
                url: '/save_job/' + jobID + '/' + companyID + '/',
                headers: { 'X-CSRFToken': csrftoken },
                data: JSON.stringify({
                    'job_id': jobID,
                    'u_id': companyID
                }),
                contentType: 'application/json',
                success: function(response) {
                    // Update the icon on success
                    icon.removeClass('empty-bookmark').addClass('filled-bookmark');
                },
                error: function(xhr, status, error) {
                    console.error(xhr.responseText);
                    // Handle error scenario
                }
            });
        } else {
            // If the icon is filled, remove it from the database
            $.ajax({
                type: 'POST',
                url: '/remove_job/' + jobID + '/' + companyID + '/', // Adjust the URL for removing the job
                headers: { 'X-CSRFToken': csrftoken },
                data: JSON.stringify({
                    'job_id': jobID,
                    'u_id': companyID
                }),
                contentType: 'application/json',
                success: function(response) {
                    // Update the icon on success
                    icon.removeClass('filled-bookmark').addClass('empty-bookmark');
                },
                error: function(xhr, status, error) {
                    console.error(xhr.responseText);
                    // Handle error scenario
                }
            });
        }
    });
  });


  </script>
</section>
<!--============================
=            Footer            =
=============================-->

<footer style="padding-bottom: 0%;" class="footer section section-sm">
  <!-- Container Start -->
  <div class="container">
    <div class="row">
      <div class="col-lg-4 col-md-7 offset-md-1 offset-lg-0 mb-4 mb-lg-0">
        <!-- About -->
        <div class="block about">
          <!-- footer logo -->
          <!-- description -->
          <p class="alt-color">HAEGL Interview Egde is an innovative platform revolutionizing
            the recruitment landscape. Designed to streamline the hiring process for companies,
            consultancies, and job seekers, it offers an intuitive interface where companies
            effortlessly post job openings, review applications, and schedule interviews</p>
        </div>
        <div style="padding-top: 10px;">
        <img width="120px" height="60px" src="/static/assets1/images/hhh2.png" alt=""></div>
      </div>
      
      <div class="col-lg-2 col-md-3 offset-md-1 offset-lg-0 col-6 mb-4 mb-md-0">
        <div class="block">
          <h4>Pages</h4>
          <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/all_companies">Companies</a></li>
              <li><a href="/all_jobs">Jobs</a></li>
            <li><a href="user_login">Login</a></li>
            <li><a href="/user_registration">Registration</a></li>
          </li>
          </ul>
        </div>
        <div style="padding-top: 30px;">
         
            <!-- Insert your social media icons here -->
            <!-- Example using Font Awesome for social icons -->
           
              <ul class="list-inline">
                <li class="list-inline-item text-center"><a target="_blank" class="fa fa-instagram" href="https://www.instagram.com/haegltechnologies/" style="font-size: 20px; color: white;"></a></li>&nbsp;
                <li class="list-inline-item text-center"><a target="_blank" class="fa fa-facebook" href="https://www.facebook.com/haegltechnologies/" style="font-size: 20px; color: white;"></a></li>&nbsp;
                <li class="list-inline-item text-center"><a target="_blank" class="fa fa-linkedin" href="https://www.linkedin.com/company/haegl-technologies-pvt-ltd/" style="font-size: 20px; color: white;"></a></li>
            </ul>
                 
          
            <!-- Add more social media icons as needed -->
        </div>       
      </div>
      <div class="col-lg-3 col-md-3 offset-md-1 offset-lg-0 col-6 mb-4 mb-md-0">
        <div class="block">
          <h4>Get in Touch</h4>
          <ul style="list-style: none;">
          <li><i class="fa fa-map-marker"></i> HAEGL TECHNOLOGIES PVT LTD, 1st Floor, AKALWADI MANSION, Vidyanagar, Hubballi, Karnataka 580021</li>

           <li><i class="fa fa-phone"></i> +91 950 0499 570 </li>

          </ul>
        </div>
        <div style="margin-top: 70px;">
          <ul style="list-style: none;">
            <a href="/haegl.in" style="text-decoration: none; color: inherit;">
              <li style="list-style: none;">
                2023 Haegl Technologies Pvt Ltd
              </li>
            </a>
          </ul>
        </div>
     
        
      </div>
      <!-- Promotion -->
      <div class="col-lg-3 col-md-7">
        <!-- App promotion -->
        <div class="block-2 app-promotion">
          <div class="mobile d-flex  align-items-center">
            <a href="index.html">
              <!-- Icon -->
              <img src="/static/assets1/images/footer/phone-icon.png" alt="mobile-icon">
            </a>
            <p class="mb-0">Get the Dealsy Mobile App and Save more</p>
          </div>
          <div class="download-btn d-flex my-3">
            <a href="index.html"><img src="/static/assets1//static/assets1/images/apps/google-play-store.png" class="img-fluid" alt=""></a>
            <a href="index.html" class=" ml-3"><img src="images/apps/apple-app-store.png" class="img-fluid" alt=""></a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Container End -->
</footer>
<!-- Footer Bottom -->


<!--
Essential Scripts
=====================================-->
<script src="/static/assets1/plugins/jquery/jquery.min.js"></script>
<script src="/static/assets1/plugins/bootstrap/popper.min.js"></script>
<script src="/static/assets1/plugins/bootstrap/bootstrap.min.js"></script>
<script src="/static/assets1/plugins/bootstrap/bootstrap-slider.js"></script>
<script src="/static/assets1/plugins/tether/js/tether.min.js"></script>
<script src="/static/assets1/plugins/raty/jquery.raty-fa.js"></script>
<script src="/static/assets1/plugins/slick/slick.min.js"></script>
<script src="/static/assets1/plugins/jquery-nice-select/js/jquery.nice-select.min.js"></script>
<!-- google map -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcABaamniA6OL5YvYSpB3pFMNrXwXnLwU" defer></script>
<script src="/static/assets1/plugins/google-map/map.js" defer></script>

<script src="/static/assets1/js/script.js"></script>

</body>

</html>

