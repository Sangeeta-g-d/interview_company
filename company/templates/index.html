{% extends 'home.html' %}
{% block content %}
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="...">
<link href="/static/assets2/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
<link href="/static/assets2/css/specific.css" rel="stylesheet">
<style>
  .section {
    overflow-x: hidden;
}

  .small-image {
    width: 70px; /* Adjust the width as needed */
   height: 80px; /* Adjust the height as needed */
   display: block;
   margin: 10px auto; /* Adjust the height as needed */
  }
  .card-body.text-center {
    text-align: center;
}
#suggestionListJobTitle {
    list-style: none;
    padding: 0;
    margin: 5px 0 0 0;
    border: 1px solid #ccc;
    border-radius: 4px;
    max-height: 200px;
    overflow-y: auto;
    display: none; /* Hide the list initially */
}

#suggestionListJobTitle li {
    padding: 8px 12px;
    cursor: pointer;
}

#suggestionListJobTitle li:hover {
    background-color: #f2f2f2;
}



  </style>

<!--===============================
=            Hero Area            =
================================-->

<section class="hero-area bg-1 text-center overly">
	<!-- Container Start -->
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<!-- Header Contetnt -->
				<div class="content-block">
					<h1>From Applications to Offers</h1>
					<p>your one-stop platform for efficient and streamlined job application and hiring processes.<br>
           Simplifying the recruitment journey for all stakeholders involved.</p>
					<div class="short-popular-category-list text-center">

            	<h2>Popular Keywords</h2>
						<ul class="list-inline">
							<li class="list-inline-item">
								<a href="{% url 'search_results' %}?keyword=Python">Python</a></li>
							<li class="list-inline-item">
								<a href="{% url 'search_results' %}?keyword=Web%20Development">Web Development</a>
							</li>
							<li class="list-inline-item">
								<a href="{% url 'search_results' %}?keyword=Software%20Engineer">Software Engineer</a>
							</li>
							<li class="list-inline-item">
								<a href="{% url 'search_results' %}?keyword=Data%20Analyst">Data Analyst</a>
							</li>
              <li class="list-inline-item">
                <a href="{% url 'search_results' %}?keyword=Security%20Analyst">Security Analyst</a>
              </li>

						</ul>
					</div>

				</div>
				<!-- Advance Search -->
				<div class="advance-search">
					<div class="container">
						<div class="row justify-content-center">
							<div class="col-lg-12 col-md-12 align-content-center">
								<form method="GET" action="{% url 'search_results' %}">
									<div class="form-row">
                    <div class="form-group col-xl-4 col-lg-3 col-md-6">
       <input type="text" name="job_title" class="form-control my-2 my-lg-1" id="inputtext4" placeholder="Job Title">
       <ul id="suggestionListJobTitle"></ul> <!-- Empty <ul> for displaying suggestions -->
   </div>

										<div class="form-group col-lg-3 col-md-6">
											<select  name="type" class="w-100 form-control mt-lg-1 mt-md-2">
												<option>Job Type</option>
												<option value="Full time">Full Time</option>
												<option value="Part time">Part Time</option>

											</select>
										</div>
										<div class="form-group col-lg-3 col-md-6">
											<input  name="keyword" type="text" class="form-control my-2 my-lg-1" id="inputLocation4" placeholder="Location">
										</div>
										<div class="form-group col-xl-2 col-lg-3 col-md-6 align-self-center">
											<button style="background:#844FC1;" type="submit" class="btn btn-primary active w-100">Search Now</button>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    $('#inputtext4').on('input', function() {
        const keyword = $(this).val().trim();
        const suggestionList = $('#suggestionListJobTitle');

        if (keyword.length >= 2) {  // Adjust the minimum length for suggestions
            $.ajax({
                url: '/autocomplete-job-title/',  // Replace with your Django URL for job title suggestions
                data: { keyword: keyword },
                dataType: 'json',
                success: function(response) {
                    const suggestions = response.suggestions;
                    suggestionList.empty(); // Clear previous suggestions
                    if (suggestions.length > 0) {
                        suggestions.forEach(function(suggestion) {
                            suggestionList.append(`<li>${suggestion}</li>`); // Append suggestions to the <ul>
                        });
                        suggestionList.show(); // Show the suggestion list
                    } else {
                        suggestionList.hide(); // Hide the suggestion list if no suggestions
                    }
                }
            });
        } else {
            suggestionList.hide(); // Hide the suggestion list if input length is less than 2
        }
    });

    // Handle click on suggestion and populate the input field
    $('body').on('click', '#suggestionListJobTitle li', function() {
        const suggestionText = $(this).text();
        $('#inputtext4').val(suggestionText);
        $('#suggestionListJobTitle').hide(); // Hide the suggestion list after selecting a suggestion
    });
});
</script>

	<!-- Container End -->
</section>


<!--===========================================
=            Popular deals section            =
============================================-->

<section class="popular-deals section bg-gray">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="section-title">
					<h2>Featured Jobs</h2>
					<p>Efficiency Redefined, Opportunities Unlimited: Empowering Your Job Search</p>
				</div>
			</div>
		</div>
		<div class="row">
			<!-- offer 01 -->
			<div class="col-lg-12">
				<div class="trending-ads-slide">
            {% for x in shuffled_jobs %}
					<div class="col-sm-12 col-lg-4">
						<!-- product card -->

<div class="product-item bg-light">
	<div class="card">
		<div class="thumb-content">
			<!-- <div class="price">$200</div> -->
      {% if x.company_id.first_name%}

			<a href="{% url 'single_job' job_id=x.id u_id=x.company_id_id  %}">
				<img class="small-image card-img-top img-fluid" src="{{x.company_id.profile}}" alt="Card image cap">
			</a>
      {% else %}
      <a href="{% url 'single_job' job_id=x.id u_id=x.agency_id_id  %}">
        <img class="small-image card-img-top img-fluid" src="{{x.company_id.profile}}" alt="Card image cap">
      </a>
      {% endif %}
		</div>
    <div class="card-body text-center">
      {% if x.company_id.first_name %} <!-- Added 'text-center' class -->
      <h4 class="card-title"><a href="{% url 'single_job' job_id=x.id u_id=x.company_id_id  %}">{{x.designation}}</a></h4>
      {% else %}
      <h4 class="card-title"><a href="{% url 'single_job' job_id=x.id u_id=x.agency_id_id  %}">{{x.designation}}</a></h4>
      {% endif %}
      {% if x.company_id.first_name %}
          <p class="card-text">{{x.company_id.first_name}}</p>
      {% else %}
          <p class="card-text">{{x.company_id.company_name}}</p>
      {% endif %}
      <ul class="list-inline product-meta">
          <li class="list-inline-item">
            <i class="fa fa-folder-open-o"></i> {{x.job_type}}
          </li>
          <li class="list-inline-item">
            <i class="fa fa-map-marker"></i> {{x.location}}
          </li>
          <li class="list-inline-item">
            <i class="fa fa-rupee-sign"></i> {{x.salary}}
          </li>
      </ul>
  </div>

	</div>
</div>
					</div>
          {% endfor %}
				</div>

			</div>
		</div>
	</div>
</section>
<section id="about1" class="about1 mb-4">
    
  <div class="container" data-aos="fade-up" data-aos-delay="100">
    <div class="row align-items-xl-center gy-5">

      <div class="col-xl-5 content">
        
        <h1>Popular searches</h1>
        <p>Ipsa sint sit. Quis ducimus tempore dolores impedit et dolor cumque alias maxime. Enim reiciendis minus et rerum hic non. Dicta quas cum quia maiores iure. Quidem nulla qui assumenda incidunt voluptatem tempora deleniti soluta.</p>
        <a href="#" class="read-more"><span>Read More</span><i class="bi bi-arrow-right"></i></a>
      </div>

      <div class="col-xl-7">
        <div class="row gy-4 icon-boxes">

          <div class="col-md-6" data-aos="fade-up" data-aos-delay="200">
            <div class="icon-box">
              <i class="fas fa-search"></i>
              <h3>Eius provident</h3>
              <p>Magni repellendus vel ullam hic officia accusantium ipsa dolor omnis dolor voluptatem</p>
            </div>
          </div> <!-- End Icon Box -->

          <div class="col-md-6" data-aos="fade-up" data-aos-delay="300">
            <div class="icon-box">
              <i class="fas fa-briefcase"></i>
              <h3>Rerum aperiam</h3>
              <p>Autem saepe animi et aut aspernatur culpa facere. Rerum saepe rerum voluptates quia</p>
            </div>
          </div> <!-- End Icon Box -->

          <div class="col-md-6" data-aos="fade-up" data-aos-delay="400">
            <div class="icon-box">
              <i class="fas fa-user-tie"></i>
              <h3>Veniam omnis</h3>
              <p>Omnis perferendis molestias culpa sed. Recusandae quas possimus. Quod consequatur corrupti</p>
            </div>
          </div> <!-- End Icon Box -->

          <div class="col-md-6" data-aos="fade-up" data-aos-delay="500">
            <div class="icon-box">
              <i class="fas fa-location-arrow"></i>
              <h3>Delares sapiente</h3>
              <p>Sint et dolor voluptas minus possimus nostrum. Reiciendis commodi eligendi omnis quideme lorenda</p>
            </div>
          </div> <!-- End Icon Box -->

        </div>
      </div>

    </div>
  </div>

</section><!-- End About Section -->

<section id="services" class="services enhanced-services">

  <!--  Section Title -->
  <div class="container section-title" data-aos="fade-up">
    <h2>Enhanced Services</h2>
    <p>Necessitatibus eius consequatur ex aliquid fuga eum quidem sint consectetur velit</p>
  </div><!-- End Section Title -->

  <div class="container">

    <div class="row gy-4">

      <div class="col-lg-6 enhanced-service" data-aos="fade-up" data-aos-delay="100">
        <div class="service-item d-flex">
          <div class="icon flex-shrink-0"><i class="bi bi-briefcase"></i></div>
          <div>
            <h4 class="title"><a href="services-details.html" class="stretched-link">Lorem Ipsum</a></h4>
            <p class="description">Voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident</p>
          </div>
        </div>
      </div>
      <!-- End Service Item -->

      <div class="col-lg-6 enhanced-service" data-aos="fade-up" data-aos-delay="200">
        <div class="service-item d-flex">
          <div class="icon flex-shrink-0"><i class="bi bi-card-checklist"></i></div>
          <div>
            <h4 class="title"><a href="services-details.html" class="stretched-link">Dolor Sitema</a></h4>
            <p class="description">Minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat tarad limino ata</p>
          </div>
        </div>
      </div><!-- End Service Item -->

      <div class="col-lg-6 enhanced-service" data-aos="fade-up" data-aos-delay="300">
        <div class="service-item d-flex">
          <div class="icon flex-shrink-0"><i class="bi bi-bar-chart"></i></div>
          <div>
            <h4 class="title"><a href="services-details.html" class="stretched-link">Sed ut perspiciatis</a></h4>
            <p class="description">Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur</p>
          </div>
        </div>
      </div><!-- End Service Item -->

      <div class="col-lg-6 enhanced-service" data-aos="fade-up" data-aos-delay="400">
        <div class="service-item d-flex">
          <div class="icon flex-shrink-0"><i class="bi bi-binoculars"></i></div>
          <div>
            <h4 class="title"><a href="services-details.html" class="stretched-link">Magni Dolores</a></h4>
            <p class="description">Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum</p>
          </div>
        </div>
      </div><!-- End Service Item -->

      <div class="col-lg-6 enhanced-service" data-aos="fade-up" data-aos-delay="500">
        <div class="service-item d-flex">
          <div class="icon flex-shrink-0"><i class="bi bi-brightness-high"></i></div>
          <div>
            <h4 class="title"><a href="services-details.html" class="stretched-link">Nemo Enim</a></h4>
            <p class="description">At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque</p>
          </div>
        </div>
      </div><!-- End Service Item -->

      <div class="col-lg-6 enhanced-service" data-aos="fade-up" data-aos-delay="600">
        <div class="service-item d-flex">
          <div class="icon flex-shrink-0"><i class="bi bi-calendar4-week"></i></div>
          <div>
            <h4 class="title"><a href="services-details.html" class="stretched-link">Eiusmod Tempor</a></h4>
            <p class="description">Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi</p>
          </div>
        </div>
      </div><!-- End Service Item -->

    </div>

  </div>

</section><!-- End Services Section -->

<!--==========================================
=            All Category Section            =
===========================================-->

<section class=" section">
	<!-- Container Start -->
	<div class="container">
		<div class="row">
			<div class="col-12">
				<!-- Section title -->
				<div class="section-title">
					<h2>All Categories</h2>
					<p>Connecting Talent with Opportunity</p>
				</div>
        <div class="row">
      {% for department, count in department_open_counts %}
      <div class="col-lg-3 offset-lg-0 col-md-5 offset-md-1 col-sm-6">
          <div class="category-block" style="width: 250px; height: 200px;"> <!-- Adjust width and height as needed -->
              <div class="header">
                  <i class="fa fa-briefcase icon-bg-5"></i>
                  <h4>{{ department }}</h4>
              </div>
              <ul class="category-list">
                  <li><a href="{% url 'job_list' department|urlencode %}">Active Jobs <span>{{ count }}</span></a></li>
              </ul>
          </div>
      </div>
      {% empty %}
      <p>No departments found.</p>
      {% endfor %}
  </div>


			</div>
		</div>
	</div>
	<!-- Container End -->
</section>




	<!-- hiring partners -->
<section class="popular-deals section bg-gray">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="section-title">
					<h2>Hiring Partners</h2>
					<p>From Listings to Interviews: Enhancing Your Hiring Experience</p>
				</div>
			</div>
		</div>
		<div class="row">
			<!-- offer 01 -->
			<div class="col-lg-12">
				<div class="trending-ads-slide">
            {% for x in hiring_partners %}
					<div class="col-sm-12 col-lg-4">
						<!-- product card -->

<div class="product-item bg-light">
	<div class="card">
		<div class="thumb-content">
			<!-- <div class="price">$200</div> -->

			<a href="single.html">
				<img class="small-image card-img-top img-fluid" src="{{x.profile}}" alt="Card image cap">
			</a>


		</div>
    <div class="card-body text-center"> <!-- Added 'text-center' class -->
      <h4 class="card-title"><a href="single.html">{{x.first_name}}</a></h4>

      <p class="card-text">{{ x.about }}</p>
  <a href="/user_login" class="read-more-link">Know More</a>

<script type="text/javascript">
// Function to truncate text and show "Know More" link if necessary
function truncateText(element, maxLength) {
    let text = element.textContent.trim();
    if (text.length > maxLength) {
        let truncatedText = text.slice(0, maxLength) + '...';
        element.textContent = truncatedText;

        let readMoreLink = element.nextElementSibling; // Assuming the link is the next sibling
        readMoreLink.style.display = 'inline'; // Show the "Know More" link
    }
}

document.addEventListener("DOMContentLoaded", function() {
    let cardTextElements = document.querySelectorAll('.card-text');
    const MAX_WORDS = 80;

    cardTextElements.forEach(function (element) {
        truncateText(element, MAX_WORDS);
    });
});

</script>



  </div>

	</div>
</div>
					</div>
          {% endfor %}
				</div>

			</div>
		</div>
	</div>
</section>

<br>
<br>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach(item => {
      item.addEventListener('click', () => {
        // Toggle the active class on the clicked item
        item.classList.toggle('faq-active');

        // Toggle the visibility of the content
        const content = item.querySelector('.faq-content');
        content.style.display = content.style.display === 'block' ? 'none' : 'block';
      });
    });
  });
</script>
<section id="faq" class="faq">

    <div class="container">

      <div class="row gy-4">

        <div class="col-lg-4" data-aos="fade-up" data-aos-delay="100">
          <div class="content px-xl-5">
            <h3><span>Frequently Asked </span><strong>Questions</strong></h3>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Duis aute irure dolor in reprehenderit
            </p>
          </div>
        </div>

        <div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">

          <div class="faq-container">
            <div class="faq-item faq-active">
              <h3><span class="num">1.</span> <span>Non consectetur a erat nam at lectus urna duis?</span></h3>
              <div class="faq-content">
                <p>Feugiat pretium nibh ipsum consequat. Tempus iaculis urna id volutpat lacus laoreet non curabitur gravida. Venenatis lectus magna fringilla urna porttitor rhoncus dolor purus non.</p>
              </div>
              <i class="faq-toggle bi bi-chevron-right"></i>
            </div><!-- End Faq item-->

            <div class="faq-item">
              <h3><span class="num">2.</span> <span>Feugiat scelerisque varius morbi enim nunc faucibus a pellentesque?</span></h3>
              <div class="faq-content">
                <p>Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi. Id interdum velit laoreet id donec ultrices. Fringilla phasellus faucibus scelerisque eleifend donec pretium. Est pellentesque elit ullamcorper dignissim. Mauris ultrices eros in cursus turpis massa tincidunt dui.</p>
              </div>
              <i class="faq-toggle bi bi-chevron-right"></i>
            </div><!-- End Faq item-->

            <div class="faq-item">
              <h3><span class="num">3.</span> <span>Dolor sit amet consectetur adipiscing elit pellentesque?</span></h3>
              <div class="faq-content">
                <p>Eleifend mi in nulla posuere sollicitudin aliquam ultrices sagittis orci. Faucibus pulvinar elementum integer enim. Sem nulla pharetra diam sit amet nisl suscipit. Rutrum tellus pellentesque eu tincidunt. Lectus urna duis convallis convallis tellus. Urna molestie at elementum eu facilisis sed odio morbi quis</p>
              </div>
              <i class="faq-toggle bi bi-chevron-right"></i>
            </div><!-- End Faq item-->

            <div class="faq-item">
              <h3><span class="num">4.</span> <span>Ac odio tempor orci dapibus. Aliquam eleifend mi in nulla?</span></h3>
              <div class="faq-content">
                <p>Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi. Id interdum velit laoreet id donec ultrices. Fringilla phasellus faucibus scelerisque eleifend donec pretium. Est pellentesque elit ullamcorper dignissim. Mauris ultrices eros in cursus turpis massa tincidunt dui.</p>
              </div>
              <i class="faq-toggle bi bi-chevron-right"></i>
            </div><!-- End Faq item-->

            <div class="faq-item">
              <h3><span class="num">5.</span> <span>Tempus quam pellentesque nec nam aliquam sem et tortor consequat?</span></h3>
              <div class="faq-content">
                <p>Molestie a iaculis at erat pellentesque adipiscing commodo. Dignissim suspendisse in est ante in. Nunc vel risus commodo viverra maecenas accumsan. Sit amet nisl suscipit adipiscing bibendum est. Purus gravida quis blandit turpis cursus in</p>
              </div>
              <i class="faq-toggle bi bi-chevron-right"></i>
            </div><!-- End Faq item-->

          </div>

        </div>
      </div>

    </div>

  </section><!-- End Faq Section -->

<br>
<br>

<!--====================================
=            Call to Action            =
=====================================-->

<section class="call-to-action overly bg-3 section-sm">
	<!-- Container Start -->
	<div class="container">
		<div class="row justify-content-md-center text-center">
			<div class="col-md-10">
				<div class="content-holder">
					<h2>Seamless Hiring Solutions: Empowering Companies, Empowering Growth</h2>
					<ul class="list-inline mt-30">
						<li class="list-inline-item"><a class="btn btn-main" href="login">Post Job</a></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<!-- Container End -->
</section>

<!--============================
=            Footer            =
=============================-->
{% endblock %}
